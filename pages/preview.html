<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Preview</title>
    <link rel="stylesheet" href="../styles/preview.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="../assets/tata.png" height="40" width="100" alt="Logo">
            <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
        </div>
        <ul class="sidebar-menu">
            <li><a href="../pages/booking.html"><i class="fas fa-calendar-plus"></i> Book Now</a></li>
            <li><a href="../pages/history.html"><i class="fas fa-history"></i> View Bookings</a></li>
            <li><a href="../pages/preview.html"><i class="fas fa-eye"></i> Preview</a></li>
            <li><a href="#"><i class="fas fa-user"></i> Profile</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="preview-body">
            <div class="preview" id="preview">
                <!-- Booking details will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('collapsed');
        }

        // Fetch Booking Data
        const bookingData = localStorage.getItem("bookingData");
        if (bookingData) {
            const bookings = JSON.parse(bookingData);
            const booking = bookings[0];
            document.getElementById("preview").innerHTML = `
                <h2>üìù Your Last Booking Preview</h2>
                <div class="booking-detail">
            <p class="label">üë®‚Äçüíº Employee ID:</p>
            <p class="value">${booking.bookingInfo.empId}</p>
        </div>

        <div class="booking-detail">
            <p class="label">üìç Location:</p>
            <p class="value">${booking.bookingInfo.location}</p>
        </div>

        <div class="booking-detail">
            <p class="label">üè¢ Block:</p>
            <p class="value">${booking.bookingInfo.block}</p>
        </div>

        <div class="booking-detail">
            <p class="label">üìÖ Date:</p>
            <p class="value">${booking.bookingInfo.date}</p>
        </div>

        <div class="booking-detail">
            <p class="label">‚è≥ Time Slot:</p>
            <p class="value">${booking.bookingInfo.timeSlot}</p>
        </div>

        <div class="booking-detail">
            <p class="label">üéØ Purpose:</p>
            <p class="value">${booking.bookingInfo.purpose}</p>
        </div>

        <div class="booking-detail">
            <p class="label">ü™ë Seats:</p>
            <p class="value">${booking.bookingInfo.seats}</p>
        </div>

        <div class="booking-detail">
            <p class="label">‚è∞ Booked Time:</p>
            <p class="value">${booking.bookingInfo.bookedTime}</p>
        </div>

        <button class="print-btn" onclick="window.print()">üñ® Print</button>

            `;
        } else {
            document.getElementById("preview").innerHTML = `<p>‚ö† No data added.</p>`;
        }
        
       
        
    </script>

</body>
</html>
